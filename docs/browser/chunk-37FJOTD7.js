import{J as n,O as h,R as C,h as b,ha as y,ma as u,na as v,oa as g,qa as q,ta as p}from"./chunk-SMKUO2FG.js";var d=(()=>{let t=class t{get context(){return this._context}get canvas(){return this._canvas}get width(){return this.canvas.width}get height(){return this.canvas.height}setUpCanvas(e){let i=e.getContext("2d");this._canvas=e,i&&(this._context=i)}clearCanvas(){this.context.clearRect(0,0,this.width,this.height)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac});let o=t;return o})();var S=function(o){return o.classic="classic",o}(S||{});var w=(()=>{let t=class t{constructor(){this.isWhiteOnBottom=!0,this.verticalCoordinates=["1","2","3","4","5","6","7","8"],this.horizontalCoordinates=["a","b","c","d","e","f","g","h"],this._themes={[S.classic]:{lightSquareColor:"rgb(237, 238, 209)",darkSquareColor:"rgb(119, 152, 83)"}},this._currentTheme=new b(this._themes.classic),this.currentTheme=this._currentTheme.asObservable()}get currentThemeValue(){return this._currentTheme.getValue()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac});let o=t;return o})();var x=(()=>{let t=class t{constructor(e,i){this.chessBoardCanvas=e,this.chessBoardConfig=i,this.getVerticalCoordinateDrawConfig=r=>{let s=this.chessBoardCanvas.width/8;return{textBaseline:"top",textAlign:"left",startPointX:r.horizontal*s+s/16,startPointY:r.vertical*s+s/16}},this.getHorizontalCoordinateDrawConfig=r=>{let s=this.chessBoardCanvas.width/8;return{textBaseline:"alphabetic",textAlign:"right",startPointX:r.horizontal*s+s-s/16,startPointY:r.vertical*s+s-s/16}}}execute(){this.verticalCoordinates=this.getCoordinatesOrder("vertical"),this.horizontalCoordinates=this.getCoordinatesOrder("horizontal"),this.verticalCoordinates.forEach((e,i)=>{this.horizontalCoordinates.forEach((r,a)=>{this.drawSquare({vertical:e,horizontal:r}),this.drawCoordinates({vertical:e,horizontal:r})})})}drawSquare({vertical:e,horizontal:i}){let r=this.chessBoardConfig.currentThemeValue,a=this.getCoordinatesIndex({vertical:e,horizontal:i}),s=this.isDarkSquare(a.sum)?r.lightSquareColor:r.darkSquareColor,l=this.chessBoardCanvas.context,c=this.chessBoardCanvas.width/8;l.fillStyle=s,l.textBaseline="top",l.fillRect(a.horizontal*c,a.vertical*c,c,c)}isDarkSquare(e){return e%2===0}drawCoordinates({vertical:e,horizontal:i}){let r=this.getCoordinatesIndex({vertical:e,horizontal:i}),a=r.horizontal===0,s=r.vertical===7;a&&this.drawBoardCoordinates(e,r,this.getVerticalCoordinateDrawConfig),s&&this.drawBoardCoordinates(i,r,this.getHorizontalCoordinateDrawConfig)}drawBoardCoordinates(e,i,r){let{textBaseline:a,textAlign:s,startPointX:l,startPointY:z}=r(i),c=this.chessBoardConfig.currentThemeValue,f=this.chessBoardCanvas.context,O=this.chessBoardCanvas.width,P=this.isDarkSquare(i.sum)?c.darkSquareColor:c.lightSquareColor,T=O/8/4.5;f.font=`bold ${T}px Arial`,f.fillStyle=P,f.textBaseline=a,f.textAlign=s,f.fillText(e,l,z)}getCoordinatesIndex({vertical:e,horizontal:i}){let r=this.verticalCoordinates.indexOf(e),a=this.horizontalCoordinates.indexOf(i),s=r+a;return{vertical:r,horizontal:a,sum:s}}getCoordinatesOrder(e){return e==="horizontal"?this.chessBoardConfig.isWhiteOnBottom?[...this.chessBoardConfig.horizontalCoordinates]:[...this.chessBoardConfig.horizontalCoordinates].reverse():this.chessBoardConfig.isWhiteOnBottom?[...this.chessBoardConfig.verticalCoordinates].reverse():[...this.chessBoardConfig.verticalCoordinates]}};t.\u0275fac=function(i){return new(i||t)(h(d),h(w))},t.\u0275prov=n({token:t,factory:t.\u0275fac});let o=t;return o})();var B=(()=>{let t=class t{constructor(e,i){this.chessBoardCanvas=e,this.drawChessBoard=i}execute(e){this.chessBoardCanvas.setUpCanvas(e),this.chessBoardCanvas.clearCanvas(),this.drawChessBoard.execute()}};t.\u0275fac=function(i){return new(i||t)(h(d),h(x))},t.\u0275prov=n({token:t,factory:t.\u0275fac});let o=t;return o})();var j=(()=>{let t=class t{constructor(e){this.initializeCanvasView=e}ngAfterViewInit(){let e=document.getElementById("chess-board-canvas");this.initializeCanvasView.execute(e)}};t.\u0275fac=function(i){return new(i||t)(y(B))},t.\u0275cmp=C({type:t,selectors:[["ca-chess-board"]],standalone:!0,features:[q([d,B,x,w]),p],decls:2,vars:0,consts:[[1,"canvas-container"],["id","chess-board-canvas","width","600","height","600"]],template:function(i,r){i&1&&(u(0,"div",0),g(1,"canvas",1),v())},styles:[".canvas-container[_ngcontent-%COMP%]{width:100%;height:100%}.canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%;height:100%}"]});let o=t;return o})();var L=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["app-game"]],standalone:!0,features:[p],decls:3,vars:0,consts:[[1,"game-screen"],[1,"chess-board-container"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1),g(2,"ca-chess-board"),v()())},dependencies:[j],styles:[".game-screen[_ngcontent-%COMP%]{width:100%;height:100%;min-height:100vh;display:flex;align-items:center;justify-content:center}.game-screen[_ngcontent-%COMP%]   .chess-board-container[_ngcontent-%COMP%]{width:600px;height:600px}"]});let o=t;return o})();export{L as GameComponent};
